<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora - PoniGuide</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="page-wrapper">
        <div class="header">
            <a href="index.html" class="btn-back-home" title="Voltar para o In√≠cio">
                <span>üè†</span> In√≠cio
            </a>
            <h2>Calculadora de Equil√≠brio</h2>
        </div>

        <div class="main-content">
            <h1>Calculadora de Dimensionamento</h1>

            <div class="card" id="input-card">
                <p class="alert-message">Preencha o <strong>Peso de Abate (Obrigat√≥rio)</strong> e *pelo menos um* dos tr√™s campos de sistema (Volume, Peso Total, √Årea).</p>

                <div class="input-group">
                    <label for="peso-abate">Peso de Abate por Peixe (Kg)</label>
                    <input type="number" id="peso-abate" placeholder="Ex: 2.5 (Obrigat√≥rio)" step="0.1">
                </div>

                <hr style="border: 0; border-top: 1px dashed #ccc; margin: 20px 0;">

                <div class="input-group">
                    <label for="volume">Volume do Tanque (Litros)</label>
                    <input type="number" id="volume" placeholder="Ex: 1000" step="0.1">
                </div>
                <div class="input-group">
                    <label for="peso-final">Peso Vivo Final Desejado (Total em Kg)</label>
                    <input type="number" id="peso-final" placeholder="Ex: 20" step="0.1">
                </div>
                <div class="input-group">
                    <label for="area-plantio-input">√Årea de Plantio (m¬≤)</label>
                    <input type="number" id="area-plantio-input" placeholder="Ex: 5" step="0.1">
                </div>

                <div class="input-group">
                    <label for="ph-input">N√≠vel de pH (Opcional)</label>
                    <input type="number" id="ph-input" placeholder="Ex: 6.8 (Para an√°lise)" step="0.1">
                </div>

                <button class="btn-calculate" id="btn-calcular">CALCULAR DIMENSIONAMENTO</button>
                <div class="error-message" id="error-message"></div>
            </div>

            <div class="card" id="results-card" style="display: none;">
                <h3 class="section-title">Resultados do Equil√≠brio Biol√≥gico</h3>

                <div class="result-item">
                    <span class="result-label">Qtd. M√°xima de Peixes (Unidades)</span>
                    <span class="result-value" id="res-peixes">0</span>
                </div>

                <div class="result-item">
                    <span class="result-label">Peso Inicial Total (Alevinos)</span>
                    <span class="result-value" id="res-peso-inicial">0.0 kg</span>
                </div>

                <div class="result-item">
                    <span class="result-label">Volume de √Ågua M√≠nimo (Litros)</span>
                    <span class="result-value" id="res-volume">0 L</span>
                </div>
                <div class="result-item">
                    <span class="result-label">√Årea de Plantio Sugerida (m¬≤)</span>
                    <span class="result-value" id="res-plantio">0.0 m¬≤</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Peso Final Desejado (Total em Kg)</span>
                    <span class="result-value" id="res-peso-final">0.0 kg</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Ra√ß√£o Di√°ria Necess√°ria (Kg)</span>
                    <span class="result-value" id="res-racao-kg">0.0 kg</span>
                </div>

                <div class="result-item">
                    <span class="result-label">Custo M√©dio Di√°rio Estimado (R$)</span>
                    <span class="result-value" id="res-custo">R$ 0.00</span>
                </div>

                <div class="result-item" id="res-ph-container" style="display: none;">
                    <span class="result-label">Status do pH</span>
                    <span class="result-value" id="res-ph-status">N/A</span>
                </div>

                <div class="alert-message" id="results-alert-message">
                    </div>

                <h3 class="section-title" style="margin-top: 20px;">Distribui√ß√£o de Equil√≠brio</h3>
                <div class="chart-container" style="position: relative; height:200px; width:100%;">
                    <canvas id="balanceChart"></canvas>
                </div>
            </div>

            <div class="card">
                <h3 class="section-title">Dados de Refer√™ncia (Til√°pia/Alface)</h3>
                <div class="reference-item">
                    <span class="reference-label">Tipo de Cultura/Filtro:</span>
                    <span class="reference-value"><strong>Alface</strong> (em Raft/DWC) / Biofiltro (M√≠dia Pl√°stica/Argila)</span>
                </div>
                <div class="reference-item">
                    <span class="reference-label">Densidade de Estocagem (Til√°pia):</span>
                    <span class="reference-value"><strong>20 kg de peixe</strong> para cada <strong>1.000 L</strong> de √°gua</span>
                </div>
                <div class="reference-item">
                    <span class="reference-label">Propor√ß√£o Volume/√Årea:</span>
                    <span class="reference-value"><strong>200 L de √°gua</strong> para cada <strong>1 m¬≤</strong> de plantio</span>
                </div>
                <div class="reference-item">
                    <span class="reference-label">Peso M√≠nimo de Inser√ß√£o (Alevino):</span>
                    <span class="reference-value"><strong>0.5 kg (500g)</strong> (Recomendado)</span>
                </div>
                <div class="reference-item">
                    <span class="reference-label">Constitui√ß√£o da Ra√ß√£o:</span>
                    <span class="reference-value">32‚Äì38% Prote√≠na, Lip√≠dios, Fibras, Vitaminas</span>
                </div>
                <div class="reference-item">
                    <span class="reference-label">Qtd. de Ra√ß√£o/Dia (Fator Til√°pia):</span>
                    <span class="reference-value">1‚Äì2% do peso vivo total (Usamos 1.5% para m√©dia)</span>
                </div>
                <div class="reference-item">
                    <span class="reference-label">Custo M√©dio da Ra√ß√£o (Kg):</span>
                    <span class="reference-value">R$ 4‚Äì6 / kg (Usamos R$ 5,00/kg para m√©dia)</span>
                </div>
            </div>
            <button id="btn-salvar" class="btn-calculate btn-salvar">Salvar Sistema para Relat√≥rios</button>

        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
    <script src="calculadora.js"></script>
</body>
</html>